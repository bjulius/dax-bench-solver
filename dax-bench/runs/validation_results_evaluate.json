{
  "validation_date": "2025-12-14",
  "validation_method": "EVALUATE statements via Power BI MCP",
  "model_status": "Connected to BigfootDAX.pbix",
  "total_expressions_queued": 120,

  "model_validation_summary": {
    "opus": {
      "total_tasks": 30,
      "runtime_passed": 27,
      "runtime_failed": 3,
      "pass_rate": 90.0,
      "failed_tasks": {
        "task-016": "Budget table doesn't exist in model",
        "task-018": "EARLIER() requires row context - invalid in scalar measure",
        "task-009": "Malformed VAR expression (missing VAR keyword at start)"
      }
    },
    "sonnet": {
      "total_tasks": 30,
      "runtime_passed": 27,
      "runtime_failed": 3,
      "pass_rate": 90.0,
      "failed_tasks": {
        "task-016": "Budget table doesn't exist in model",
        "task-018": "EARLIER() requires row context - invalid in scalar measure",
        "task-022": "References [Total Net Price Sales] measure that may not exist"
      }
    },
    "haiku": {
      "total_tasks": 30,
      "runtime_passed": 22,
      "runtime_failed": 8,
      "pass_rate": 73.3,
      "failed_tasks": {
        "task-008": "SUMIF is an Excel function, not DAX",
        "task-016": "Budget table doesn't exist",
        "task-018": "EARLIER() context issue",
        "task-019": "SUMPRODUCT is an Excel function, not DAX",
        "task-022": "DENSE_RANK is SQL, not DAX - use RANKX",
        "task-013": "Invalid UNION syntax (missing SELECTCOLUMNS)",
        "task-027": "Complex syntax error in YoY calculation",
        "task-010": "'Date'[Start of Year] column doesn't exist"
      }
    },
    "mistral": {
      "total_tasks": 30,
      "runtime_passed": 24,
      "runtime_failed": 6,
      "pass_rate": 80.0,
      "failed_tasks": {
        "task-009": "SAMEPERIODLASTDAY doesn't exist in DAX",
        "task-016": "Budget table doesn't exist + syntax error",
        "task-018": "RANKX syntax incorrect for measure context",
        "task-020": "SAMEPERIODLASTDAY doesn't exist in DAX",
        "task-021": "KEEPFILTERS misused (can't wrap ISFILTERED)",
        "task-013": "Invalid FILTER placement in UNION"
      }
    }
  },

  "cross_model_common_issues": {
    "task-016_all": {
      "issue": "Budget table missing from model",
      "models_affected": ["opus", "sonnet", "haiku", "mistral"],
      "resolution": "Schema issue - Budget table needs to be added to model"
    },
    "task-018_all": {
      "issue": "EARLIER() requires row context",
      "models_affected": ["opus", "sonnet", "haiku", "mistral"],
      "resolution": "Cannot use EARLIER in scalar measure - requires calculated column context"
    }
  },

  "model_specific_issues": {
    "haiku_excel_functions": {
      "issue": "Haiku incorrectly used Excel functions instead of DAX",
      "functions_misused": ["SUMIF", "SUMPRODUCT"],
      "correct_dax_equivalents": {
        "SUMIF": "CALCULATE(SUM(), filter)",
        "SUMPRODUCT": "SUMX(table, expression)"
      }
    },
    "haiku_sql_functions": {
      "issue": "Haiku used SQL functions instead of DAX",
      "functions_misused": ["DENSE_RANK"],
      "correct_dax_equivalents": {
        "DENSE_RANK": "RANKX(table, expression, , DESC, DENSE)"
      }
    },
    "mistral_nonexistent_functions": {
      "issue": "Mistral invented DAX functions that don't exist",
      "functions_invented": ["SAMEPERIODLASTDAY"],
      "correct_dax_equivalents": {
        "SAMEPERIODLASTDAY": "DATEADD('Date'[Date], -1, DAY) or manual filter"
      }
    }
  },

  "valid_alternative_approaches_discovered": {
    "COUNTA_valid": "COUNTA(table[column]) is valid DAX, same as COUNTROWS",
    "IFERROR_valid": "IFERROR(expression, alternate) is valid DAX",
    "COALESCE_valid": "COALESCE(val1, val2, ...) is valid DAX",
    "PERCENTILE_EXC_valid": "PERCENTILE.EXC is valid alternative to PERCENTILE.INC",
    "PERCENTILEX_preferred": "PERCENTILEX.INC() iterator is preferred over PERCENTILE.INC()"
  },

  "final_scores_updated": {
    "opus": {"passed": 27, "total": 30, "percent": 90.0},
    "sonnet": {"passed": 27, "total": 30, "percent": 90.0},
    "haiku": {"passed": 22, "total": 30, "percent": 73.3},
    "mistral": {"passed": 24, "total": 30, "percent": 80.0}
  },

  "ranking": [
    {"rank": 1, "model": "opus", "score": 90.0},
    {"rank": 1, "model": "sonnet", "score": 90.0},
    {"rank": 3, "model": "mistral", "score": 80.0},
    {"rank": 4, "model": "haiku", "score": 73.3}
  ]
}
