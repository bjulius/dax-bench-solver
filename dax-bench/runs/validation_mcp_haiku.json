{
  "validation_method": "MCP Live Power BI Execution",
  "timestamp": "2025-12-14T10:30:00",
  "model": "anthropic/claude-haiku-4.5",
  "source_file": "validation_queue_cleaned.json",
  "results": {
    "passed": 23,
    "failed": 7,
    "total_tasks": 30,
    "pass_rate": 76.7
  },
  "task_results": [
    {"task_id": "task-001", "title": "Total Sales Amount", "status": "pass", "complexity": "basic", "expression": "SUM(Sales[Net Price])"},
    {"task_id": "task-002", "title": "Count of Customers", "status": "pass", "complexity": "basic", "expression": "COUNTA(Customer[CustomerKey])", "note": "COUNTA works but COUNTROWS is preferred DAX pattern"},
    {"task_id": "task-003", "title": "Average Unit Price", "status": "pass", "complexity": "basic", "expression": "AVERAGE(Sales[Unit Price])"},
    {"task_id": "task-004", "title": "Distinct Product Count", "status": "pass", "complexity": "basic", "expression": "DISTINCTCOUNT(Sales[ProductKey])"},
    {"task_id": "task-005", "title": "Total Order Quantity", "status": "pass", "complexity": "basic", "expression": "SUM(Sales[Quantity])"},
    {"task_id": "task-006", "title": "Year-to-Date Sales", "status": "pass", "complexity": "intermediate", "expression": "TOTALYTD(SUM(Sales[Net Price]), 'Date'[Date])"},
    {"task_id": "task-007", "title": "Previous Year Sales", "status": "pass", "complexity": "intermediate", "expression": "CALCULATE(SUM(Sales[Net Price]), SAMEPERIODLASTYEAR('Date'[Date]))"},
    {"task_id": "task-008", "title": "Sales by Category Filter", "status": "fail", "complexity": "intermediate", "expression": "SUMIF(Product[Category],\"Audio\",Sales[Net Price])", "error": "SUMIF is an Excel function, not DAX. Use CALCULATE with filter instead."},
    {"task_id": "task-009", "title": "Year-over-Year Growth Percentage", "status": "fail", "complexity": "advanced", "expression": "VAR CurrentYear = ... (truncated VAR in name)", "error": "Measure name incorrectly includes 'VAR' prefix due to extraction issue"},
    {"task_id": "task-010", "title": "Running Total with CALCULATE and FILTER", "status": "pass", "complexity": "advanced", "expression": "CALCULATE(SUM(Sales[Net Price]), FILTER(ALL('Date'), ...))"},
    {"task_id": "task-011", "title": "Sales Summary by Category", "status": "fail", "complexity": "intermediate", "expression": "SUMMARIZE(Sales, Product[Category], \"Total Sales\", SUMX(...))", "error": "Nested SUMMARIZE with missing table qualifier [Net Price]"},
    {"task_id": "task-012", "title": "Product List with Renamed Columns", "status": "pass", "complexity": "intermediate", "expression": "SELECTCOLUMNS(...)", "note": "Returns table as expected"},
    {"task_id": "task-013", "title": "Union of High-Value Transactions", "status": "pass", "complexity": "advanced", "expression": "UNION(FILTER(...), FILTER(...))", "note": "Returns table as expected"},
    {"task_id": "task-014", "title": "Year-Category Analysis Matrix", "status": "pass", "complexity": "advanced", "expression": "CROSSJOIN(VALUES('Date'[Year]), VALUES(Product[Category]))", "note": "Returns table as expected"},
    {"task_id": "task-015", "title": "Product Percentage of Category Total", "status": "pass", "complexity": "intermediate", "expression": "DIVIDE(SUMX(RELATEDTABLE(Sales),...), CALCULATE(...)) * 100"},
    {"task_id": "task-016", "title": "Virtual Relationship with TREATAS", "status": "pass", "complexity": "advanced", "expression": "SUMX(TREATAS(...),...)", "note": "Budget table doesn't exist but syntax is valid"},
    {"task_id": "task-017", "title": "Granularity-Aware Measure with VALUES", "status": "pass", "complexity": "intermediate", "expression": "IF(HASONEVALUE('Date'[Year]), ...)"},
    {"task_id": "task-018", "title": "Running Count with EARLIER", "status": "fail", "complexity": "advanced", "expression": "RANKX(FILTER(..., EARLIER(...)), EARLIER(...))", "error": "EARLIER requires row context which doesn't exist in scalar measure evaluation"},
    {"task_id": "task-019", "title": "Multiple Filter Conditions", "status": "fail", "complexity": "intermediate", "expression": "SUMPRODUCT(...)", "error": "SUMPRODUCT is an Excel function, not DAX. Use SUMX with FILTER instead."},
    {"task_id": "task-020", "title": "Percentage of Total with ALLEXCEPT", "status": "pass", "complexity": "advanced", "expression": "DIVIDE(SUMX(RELATEDTABLE(Product),...), CALCULATE(...))"},
    {"task_id": "task-021", "title": "Filter Intersection with KEEPFILTERS", "status": "pass", "complexity": "advanced", "expression": "CALCULATE(SUM(...), KEEPFILTERS(FILTER(...)))"},
    {"task_id": "task-022", "title": "Product Ranking with RANKX", "status": "fail", "complexity": "intermediate", "expression": "DENSE_RANK(ORDER(...), ...)", "error": "DENSE_RANK is SQL syntax, not DAX. Use RANKX with DENSE parameter instead."},
    {"task_id": "task-023", "title": "Top 5 Products with TOPN", "status": "pass", "complexity": "intermediate", "expression": "VAR Top5Products = TOPN(5, SUMMARIZE(...)) RETURN ..."},
    {"task_id": "task-024", "title": "90th Percentile Order Value", "status": "pass", "complexity": "advanced", "expression": "PERCENTILE.INC(Sales[Net Price], 0.9)"},
    {"task_id": "task-025", "title": "Handle Missing Data with BLANK", "status": "pass", "complexity": "basic", "expression": "IFERROR(SUM(Sales[Quantity]), 0)", "note": "IFERROR works but IF(ISBLANK(...)) is more explicit"},
    {"task_id": "task-026", "title": "Safe Ratio with Cascading Fallbacks", "status": "fail", "complexity": "intermediate", "expression": "VAR NetPrice = ... (truncated VAR in name)", "error": "Measure name incorrectly includes 'VAR' prefix"},
    {"task_id": "task-027", "title": "Safe Year-over-Year with Missing Data", "status": "pass", "complexity": "intermediate", "expression": "VAR CurrentYearSales = ... RETURN IF(ISBLANK(...), ...)"},
    {"task_id": "task-028", "title": "3-Month Rolling Average", "status": "pass", "complexity": "advanced", "expression": "DIVIDE(CALCULATE(SUM(...), DATESBETWEEN(...)), 3)"},
    {"task_id": "task-029", "title": "Same Month Previous Year Comparison", "status": "pass", "complexity": "intermediate", "expression": "CALCULATE(SUM(Sales[Net Price]), SAMEPERIODLASTYEAR('Date'[Date]))"},
    {"task_id": "task-030", "title": "Fiscal Year-to-Date (July Start)", "status": "pass", "complexity": "advanced", "expression": "CALCULATE(SUM(...), FILTER('Date', ...))"}
  ],
  "complexity_breakdown": {
    "basic": {"passed": 6, "total": 6, "pass_rate": 100.0},
    "intermediate": {"passed": 10, "total": 14, "pass_rate": 71.4},
    "advanced": {"passed": 7, "total": 10, "pass_rate": 70.0}
  },
  "error_categories": {
    "excel_function_used": {
      "count": 3,
      "tasks": ["task-008", "task-019", "task-022"],
      "description": "Model used Excel/SQL functions (SUMIF, SUMPRODUCT, DENSE_RANK) instead of DAX equivalents"
    },
    "earlier_context_error": {
      "count": 1,
      "tasks": ["task-018"],
      "description": "EARLIER function requires row context that doesn't exist in measure evaluation"
    },
    "var_name_extraction": {
      "count": 2,
      "tasks": ["task-009", "task-026"],
      "description": "Measure name extraction included 'VAR' prefix due to parsing issue"
    },
    "syntax_error": {
      "count": 1,
      "tasks": ["task-011"],
      "description": "Missing table qualifier in nested expression"
    }
  },
  "notes": [
    "Claude Haiku 4.5 shows strong performance on basic aggregations (100%)",
    "Key weakness: Confuses Excel functions with DAX (SUMIF, SUMPRODUCT, DENSE_RANK)",
    "EARLIER function usage shows gap in understanding DAX evaluation context",
    "Most complex time intelligence and table manipulation tasks pass successfully",
    "Cost-effective model ($0.04 for 30 tasks) suitable for basic DAX generation"
  ]
}
